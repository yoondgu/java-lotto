# [미션 - 로또] 명세서

### 기능 목록 및 함수 분리 원칙
- **기능 목록의 단위**는 해당하는 로직의 범위 내에서 최대한 원자화한 기능을 기준으로 한다.
  - 여러 개의 "한 가지 기능"을 서로 조합하여 더 큰 단위의 기능을 수행할 수 있다.
  - `예시` : "구입한 금액 만큼의 로또를 발행하는 기능"은 아래 세 가지의 단위 기능으로 나누어진다.
    - 1개의 로또를 발행한다.
    - 구입한 금액으로 발행할 개수를 계산한다.
    - 주어진 개수 만큼 여러 개의 로또를 발행한다.
- **함수의 최대 분리 단위**는 함수가 속한 클래스에서 "한 가지의 일"을 하는 것을 기준으로 한다.
  - "한 가지의 일"은 값 검증 / 값 반환(생성 또는 변환) / 값 저장 / 함수 통합 중 한 가지만을 담당하는 것을 의미한다.
  - 더 작은 단위의 여러 함수를 통합하는 것 또한 "한 가지의 일"을 하는 것으로 본다.
  - `예시` : "1개의 로또를 발행하는 기능"을 위한 함수는 아래와 같이 분리된다.
    - 전달받은 번호가 로또 번호 규칙에 맞는지 검증하는 함수를 모두 실행하는 함수
      - 전달받은 번호의 개수를 검증하는 함수
      - 전달받은 번호의 범위를 검증하는 함수
      - 전달받은 번호의 중복 여부를 검증하는 함수
    - 전달받은 번호를 저장한 로또 인스턴스를 생성하는 함수(생성자)
  - 하나의 단위로 분리된 함수는 여러 기능 구현을 위해 재사용될 수 있다.
  - `예시` : "1개의 정수를 입력받는 함수"는 아래 두 가지 기능에서 사용될 수 있다.
    - 로또 구입 금액을 입력받는다.
    - 로또 당첨 번호 중 보너스 번호를 입력받는다.
    
## 🚀 기능 목록
1개의 로또는 로또 번호(규칙에 따른 숫자 6개)를 가지고 있는, 식별 가능한 하나의 객체이다.
### 도메인 로직을 위한 기능
1. - [x] 랜덤으로 **로또 번호**를 생성하는 기능
2. - [x] 주어진 로또 번호를 저장해 1개의 **로또**를 생성하는 기능(구입한 로또, 추첨한 로또 모두 포함)
      - [x] `예외처리` : 주어진 숫자의 개수가 정해진 개수와 다른 경우
      - [x] `예외처리` : 정해진 범위 밖의 수가 포함된 경우
      - [x] `예외처리` : 중복되는 수가 존재하는 경우
3. - [x] 주어진 **로또 구입 금액**에 따라 발행할 개수를 계산하는 기능
      - [x] `예외처리` : 구입 금액이 음수인 경우
      - [x] `예외처리` : 구입 금액이 양수이지만 1000보다 작은 경우
      - [x] `예외처리` : 구입 금액이 1000보다 크지만 나머지가 존재하는 경우
4. - [x] 주어진 개수만큼 여러 개의 **로또**를 발행하는 기능
      - [x]  `예외처리` : 주어진 개수가 1보다 작은 경우
5. - [x] **추첨 로또 번호와 보너스 번호**로 이루어진 **로또 당첨 번호**를 생성하는 기능
      - [x] `예외처리` : 보너스 번호가 정해진 범위 밖의 수인 경우
      - [x] `예외처리` : 보너스 번호인 수가 추첨 번호에 이미 존재하는 경우
6. - [x] 두 개의 로또가 가진 번호를 비교해 일치하는 수의 개수를 구하는 기능
7. - [x] 등수 계산 시 필요한 경우에만(5개 일치하는 경우) 추첨 로또 번호에 보너스 번호가 포함여부를 확인하는 기능
8. - [ ] 정해진 당첨 기준과 6, 7번 기능의 결과에 따라 해당 로또의 **당첨 결과**를 구하는 기능
9. - [ ] 여러 개의 로또에 대한 당첨 결과를 이용해 **당첨 내역**을 합산하는 기능
10. - [ ] 당첨 내역과 등수 별 상금 정보를 이용해 **수익률**을 계산하는 기능

### UI 로직을 위한 기능
사용자 상호작용에 대한 로직은 핵심 로직과 분리된 기능을 수행한다.
따라서 입력 및 출력 값에 대한 예외처리 또한 단순 데이터 타입과 형식에 대해서만 수행한다.

11. - [ ] 정해진 문구(안내 문구, 에러 문구)를 콘솔창에 출력하는 기능
       - [ ] `예외처리` : 출력하고자 하는 문구의 형식 또는 값이 null인 경우
12. - [ ] 로또 번호를 콘솔창에 출력하는 기능
       - [ ] `예외처리` : 출력하고자 하는 정보의 값이 null인 경우
13. - [ ] 당첨 결과 관련 정보(당첨 내역, 수익률)을 형식에 맞게 콘솔창에 출력하는 기능
       - [ ] `예외처리` : 출력하고자 하는 정보의 형식 또는 값이 null인 경우
14. - [ ] 콘솔창에서 1개의 정수를 입력받는 기능 (ex: "1", "1000")
       - [ ] `예외처리` : 입력받은 값이 정수가 아닌 경우 (ex: "1,2,3")
       - [ ] `예외처리` : 입력받은 값이 0으로 시작하는 경우 (ex: "01")
15. - [ ] 콘솔창에서 여러 개의 정수를 ","로 구분된 형식의 문자열로 입력받는 기능
       - [ ] `예외처리` : 입력받은 값이 정해진 형식이 아닌 경우
       - [ ] `예외처리` : 구분자와 공백 이외에 정수가 아닌 값이 포함된 경우
       - [ ] `예외처리` : 0으로 시작하는 정수 값이 포함된 경우

## 🗄 상수값 목록
### 도메인 로직 정보
- 로또 번호 규칙
  - [x] 로또 한 개의 금액
  - [x] 로또 번호의 최솟값, 최댓값
  - [x] 로또 번호의 개수
  - [x] 보너스 번호의 개수
- 당첨 기준
  - [ ] 등수 별 당첨 조건 (일치하는 번호의 개수, 보너스 번호 일치 여부)
  - [ ] 등수 별 상금
- [ ] 도메인 로직 에러 정보 (상황 별 에러 메시지)

### UI 로직 정보
- 출력 문구 및 형식
  - [ ] 상황 별 안내문구
  - [ ] 에러문구 출력 형식 `[ERROR]`
  - [ ] 당첨 통계 문자열 형식
  - [ ] 수익률 문자열 형식
  - [ ] 로또 번호 입력 시 사용하는 구분자
- [ ] UI 로직 에러 정보 (상황 별 에러 메시지)

## ✅ 단위테스트 목록
### 도메인 로직 단위테스트
- [기능2] 로또 발행 시 예외 발생 테스트
  - [x] 로또 번호의 개수가 6개가 넘어가면 예외가 발생
  - [x] 로또 번호에 중복된 숫자가 있으면 예외가 발생
  - [x] 로또 번호에 범위 밖의 숫자가 있으면 예외가 발생
- [기능3] 로또 발행 개수 계산 시 예외 발생 테스트
  - [x] 구입 금액이 음수이면 예외가 발생
  - [x] 구입 금액이 양수이지만 1000보다 작으면 예외가 발생
  - [x] 구입 금액이 1000보다 크지만 나머지가 존재하면 예외가 발생
- [기능4] 여러 개의 로또 발행 시 테스트
  - [x] 발행한 로또 개수와 주어진 개수 일치
  - [x] 주어진 개수가 1보다 작으면 예외가 발생
- [기능5] 로또 당첨 번호 생성 시 예외 발생 테스트
  - [x] 보너스 번호가 정해진 범위 밖의 숫자이면 예외가 발생
  - [x] 보너스 번호가 이미 추첨 로또 번호에 존재하면 예외가 발생
- [기능6] 두 로또 번호 비교 테스트
  - [x] 두 로또 번호를 비교하여 일치하는 수의 개수를 반환

## 🖋 클래스 설계
각 클래스의 메소드명 대신 기능목록의 번호와 내용을 기재하였다.
![이미지](class-diagram.drawio.png)